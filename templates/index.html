{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-lg-8 mx-auto">
        <!-- Hero Section -->
        <div class="text-center mb-5">
            <h1 class="display-4">Do I own this stock in VTSAX?</h1>
            <p class="lead text-muted">
                Search by ticker symbol or company name to see if it's in your 
                Vanguard Total Stock Market Index Fund
            </p>
        </div>

        <!-- Search Form -->
        <div class="card shadow-sm mb-5">
            <div class="card-body p-4">
                <form id="search-form">
                    <div class="input-group input-group-lg">
                        <input 
                            type="text" 
                            class="form-control" 
                            id="search-input" 
                            placeholder="Enter ticker (AAPL) or company name (Apple)"
                            required
                            autofocus
                        >
                        <button class="btn btn-primary" type="submit">
                            Search
                        </button>
                    </div>
                </form>
                
                <!-- Quick Search Examples -->
                <div class="mt-3">
                    <small class="text-muted">Try: 
                        <a href="#" class="quick-search">AAPL</a>, 
                        <a href="#" class="quick-search">Tesla</a>, 
                        <a href="#" class="quick-search">MSFT</a>, 
                        <a href="#" class="quick-search">Amazon</a>
                    </small>
                </div>
            </div>
        </div>

        <!-- Search Results -->
        <div id="search-results"></div>

        <!-- Loading Spinner -->
        <div id="loading" class="text-center d-none">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>
</div>

<!-- Stats Section -->
<div class="row mt-5">
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <h5 class="card-title">Total Holdings</h5>
                <p class="card-text display-6" id="total-holdings">-</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <h5 class="card-title">Top Holding</h5>
                <p class="card-text" id="top-holding">-</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <h5 class="card-title">Total Value</h5>
                <p class="card-text" id="total-value">-</p>
            </div>
        </div>
    </div>
</div>

<!-- Top Holdings Preview -->
<div class="row mt-5">
    <div class="col-12">
        <h3>Top 10 Holdings</h3>
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Ticker</th>
                        <th>Company</th>
                        <th>% of Fund</th>
                        <th>Market Value</th>
                    </tr>
                </thead>
                <tbody id="top-holdings-table">
                    <tr>
                        <td colspan="5" class="text-center">Loading...</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="text-center mt-3">
            <a href="/top-holdings" class="btn btn-outline-primary">View All Holdings</a>
        </div>
    </div>
</div>
{% endblock %}